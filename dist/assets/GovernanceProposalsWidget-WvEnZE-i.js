import{r as d,j as s,G as N,S as f}from"./index-DSNlU1zh.js";const x=[{id:"gov_prop_1",title:"Increase Staking Rewards",description:"Proposal to increase staking rewards by 5% to incentivize participation.",status:"open",totalStaked:15e4},{id:"gov_prop_2",title:"Fund Community Marketing",description:"Allocate 1M REP to a community-run marketing fund.",status:"closed",totalStaked:25e5}];function b(c){const[n,o]=d.useState(x),[u,i]=d.useState("idle"),[r,m]=d.useState(null);return{proposals:n,status:u,error:r,vote:(l,e)=>{console.log(`User ${c} voting ${e} on proposal ${l}`),i("loading"),setTimeout(()=>{o(a=>a.map(t=>t.id===l?{...t,totalStaked:t.totalStaked+e}:t)),i("idle")},1e3)}}}const g=({userId:c})=>{const{proposals:n,status:o,error:u,vote:i}=b(c),[r,m]=d.useState({}),p=e=>{const a=Number(r[e]);a>0&&(i(e,a),m(t=>({...t,[e]:""})))},l=()=>o==="loading"&&n.length===0?s.jsxDEV(f,{className:"h-48 w-full"},void 0,!1,{fileName:"/workspaces/azora-os/src/app/GovernanceProposalsWidget.tsx",lineNumber:20,columnNumber:64},void 0):o==="error"?s.jsxDEV("div",{className:"p-4 text-red-400",children:["Error: ",u]},void 0,!0,{fileName:"/workspaces/azora-os/src/app/GovernanceProposalsWidget.tsx",lineNumber:21,columnNumber:36},void 0):s.jsxDEV("div",{className:"space-y-4",children:n.map(e=>s.jsxDEV(N,{className:"p-4 space-y-3",children:[s.jsxDEV("div",{className:"flex justify-between items-start",children:[s.jsxDEV("h4",{className:"font-bold text-white/90",children:e.title},void 0,!1,{fileName:"/workspaces/azora-os/src/app/GovernanceProposalsWidget.tsx",lineNumber:28,columnNumber:25},void 0),s.jsxDEV("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${e.status==="open"?"bg-green-500/20 text-green-300":"bg-slate-500/20 text-slate-300"}`,children:e.status},void 0,!1,{fileName:"/workspaces/azora-os/src/app/GovernanceProposalsWidget.tsx",lineNumber:29,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspaces/azora-os/src/app/GovernanceProposalsWidget.tsx",lineNumber:27,columnNumber:21},void 0),s.jsxDEV("p",{className:"text-sm text-white/60",children:e.description},void 0,!1,{fileName:"/workspaces/azora-os/src/app/GovernanceProposalsWidget.tsx",lineNumber:33,columnNumber:21},void 0),s.jsxDEV("div",{className:"text-xs text-white/50 pt-2 border-t border-white/10",children:["Total Staked: ",s.jsxDEV("span",{className:"font-bold text-cyan-300",children:[e.totalStaked.toLocaleString()," REP"]},void 0,!0,{fileName:"/workspaces/azora-os/src/app/GovernanceProposalsWidget.tsx",lineNumber:35,columnNumber:39},void 0)]},void 0,!0,{fileName:"/workspaces/azora-os/src/app/GovernanceProposalsWidget.tsx",lineNumber:34,columnNumber:21},void 0),e.status==="open"&&s.jsxDEV("div",{className:"flex gap-2 pt-2",children:[s.jsxDEV("input",{className:"flex-1 bg-white/5 border border-white/10 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",type:"number",placeholder:"Amount to Stake",value:r[e.id]??"",onChange:a=>m({...r,[e.id]:a.target.value}),disabled:o==="loading"},void 0,!1,{fileName:"/workspaces/azora-os/src/app/GovernanceProposalsWidget.tsx",lineNumber:39,columnNumber:29},void 0),s.jsxDEV("button",{className:"bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-200 disabled:opacity-50",onClick:()=>p(e.id),disabled:o==="loading",children:"Stake"},void 0,!1,{fileName:"/workspaces/azora-os/src/app/GovernanceProposalsWidget.tsx",lineNumber:47,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspaces/azora-os/src/app/GovernanceProposalsWidget.tsx",lineNumber:38,columnNumber:25},void 0)]},e.id,!0,{fileName:"/workspaces/azora-os/src/app/GovernanceProposalsWidget.tsx",lineNumber:26,columnNumber:17},void 0))},void 0,!1,{fileName:"/workspaces/azora-os/src/app/GovernanceProposalsWidget.tsx",lineNumber:24,columnNumber:9},void 0);return s.jsxDEV(N,{className:"p-4",children:[s.jsxDEV("h2",{className:"text-xl font-bold text-white mb-4",children:"Governance Proposals"},void 0,!1,{fileName:"/workspaces/azora-os/src/app/GovernanceProposalsWidget.tsx",lineNumber:64,columnNumber:7},void 0),l()]},void 0,!0,{fileName:"/workspaces/azora-os/src/app/GovernanceProposalsWidget.tsx",lineNumber:63,columnNumber:5},void 0)};export{g as default};
