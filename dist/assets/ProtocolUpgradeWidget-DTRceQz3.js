import{r as n,j as o}from"./index-DSNlU1zh.js";const g=[{id:"proto_prop_1",title:"Upgrade: Quantum Routing v2",description:"Integrate the new quantum-enhanced routing algorithm.",status:"open",totalStaked:8e4,affectedRules:["routing.main","risk.assessment"]},{id:"proto_prop_2",title:"Upgrade: Dilithium Signatures",description:"Adopt Dilithium post-quantum signatures for all ledger entries.",status:"open",totalStaked:12e4,affectedRules:["ledger.security","identity.verification"]}];function N(r){const[s,a]=n.useState(g),[c,d]=n.useState("idle"),[i,u]=n.useState(null);return{proposals:s,status:c,error:i,stake:(e,t)=>{console.log(`User ${r} staking ${t} on protocol upgrade ${e}`),d("loading"),setTimeout(()=>{a(m=>m.map(l=>l.id===e?{...l,totalStaked:l.totalStaked+t}:l)),d("idle")},1e3)}}}const f=({children:r,className:s=""})=>o.jsxDEV("div",{className:`rounded-xl bg-white/5 backdrop-blur-lg border border-white/10 shadow ${s}`,children:r},void 0,!1,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:6,columnNumber:3},void 0),b=({userId:r})=>{const{proposals:s,status:a,error:c,stake:d}=N(r),[i,u]=n.useState({}),p=e=>{const t=Number(i[e]);t>0&&(d(e,t),u(m=>({...m,[e]:""})))};return o.jsxDEV(f,{className:"p-4 space-y-6",children:[o.jsxDEV("div",{className:"font-bold text-white/90",children:"Protocol Upgrade Proposals"},void 0,!1,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:23,columnNumber:7},void 0),a==="error"&&o.jsxDEV("div",{className:"text-red-400",children:["Error: ",c]},void 0,!0,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:25,columnNumber:30},void 0),o.jsxDEV("ul",{className:"space-y-4",children:[s.map(e=>o.jsxDEV("li",{className:"border border-white/10 rounded-md p-4 space-y-2",children:[o.jsxDEV("div",{className:"flex justify-between items-start",children:[o.jsxDEV("div",{children:[o.jsxDEV("div",{className:"font-medium text-white/90",children:e.title},void 0,!1,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:32,columnNumber:17},void 0),o.jsxDEV("div",{className:"text-sm text-white/70",children:e.description},void 0,!1,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:33,columnNumber:17},void 0),o.jsxDEV("div",{className:"text-xs text-white/50",children:["Affects: ",e.affectedRules.join(", ")]},void 0,!0,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:34,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:31,columnNumber:15},void 0),o.jsxDEV("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${e.status==="open"?"bg-green-500/20 text-green-300":"bg-slate-500/20 text-slate-300"}`,children:e.status},void 0,!1,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:36,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:30,columnNumber:13},void 0),o.jsxDEV("div",{className:"text-xs text-white/50 pt-1 border-t border-white/10",children:["Total Staked: ",o.jsxDEV("span",{className:"font-bold text-cyan-300",children:[e.totalStaked.toLocaleString()," REP"]},void 0,!0,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:41,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:40,columnNumber:13},void 0),e.status==="open"&&o.jsxDEV("div",{className:"flex gap-2 pt-2",children:[o.jsxDEV("input",{className:"flex-1 bg-white/5 border border-white/10 rounded-md px-3 py-2 text-white",type:"number",placeholder:"Amount to Stake",value:i[e.id]??"",onChange:t=>u({...i,[e.id]:t.target.value}),disabled:a==="loading"},void 0,!1,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:45,columnNumber:17},void 0),o.jsxDEV("button",{className:"bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-200 disabled:opacity-50",onClick:()=>p(e.id),disabled:a==="loading",children:"Stake"},void 0,!1,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:53,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:44,columnNumber:15},void 0)]},e.id,!0,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:29,columnNumber:11},void 0)),s.length===0&&o.jsxDEV("li",{className:"text-white/60",children:"No upgrade proposals yet."},void 0,!1,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:64,columnNumber:36},void 0)]},void 0,!0,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:27,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/azora-os/src/app/ProtocolUpgradeWidget.tsx",lineNumber:22,columnNumber:5},void 0)};export{b as default};
